<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
.line {
        text-decoration: line-through;
        }

    </style>

</head>
<body>
    <div>
        <!-- 할 일 적고 버튼을 클릭하면 등록 -->
        <input type="text" id="put">
        <button id="btn">Add</button>
    </div>

    <div id="big">
        <div>
            <button id="minus">휴지통</button>
        </div>

    </div>

    <script>
        const put = document.getElementById("put");
        const btn = document.getElementById("btn");
        const big = document.getElementById("big");

        // Add 버튼을 눌렀을 때 목록이 추가 되는 기능
        btn.addEventListener("click",function(){

            let bb = document.createElement("input");
            bb.type="checkbox";
            bb.classList.add("ch");

            let cc = document.createElement("span")
            cc.append(put.value);
            cc.classList.add("yy")

            let inbig = document.createElement("div")
            inbig.classList.add("zz")

            inbig.append(bb,cc);
            big.append(inbig);
            

        })

        // 체크 하면 목록에 선 그어지는 기능
        const ch = document.getElementsByClassName("ch")
        const yy = document.getElementsByClassName("yy")
        const zz = document.getElementsByClassName("zz")
        big.addEventListener("click",function(e){
            for(let i=0;i<ch.length;i++){
                if(e.target.classList.contains("ch")&&ch[i].checked){
                yy[i].classList.add("line")

                for(let j=0;j<ch.length;j++){
                    ch[j].setAttribute("dda", "dda"+j)
                    zz[j].setAttribute("id", "dda"+j)
                }



            }   else if(e.target.classList.contains("ch")&&!ch[i].checked)
            {
                yy[i].classList.remove("line")
            }
            }
        })

        


        const minus = document.getElementById("minus")
        minus.addEventListener("click", function(){
            
            let ar=[];

            for(let p=0;p<ch.length;p++){
                if(ch[p].checked){
                    ar.push(ch[p].getAttribute("dda"))
                }
            }


            for(let t=0;t<ar.length;t++){
                document.getElementById(ar[t]).remove();
            }
        })


        

        

    </script>

</body>
</html>